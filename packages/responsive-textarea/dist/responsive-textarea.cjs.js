"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const Y=require("react/jsx-runtime"),t=require("react"),$=(c,u)=>{let n;return function(...s){const i=this;clearTimeout(n),n=setTimeout(()=>c.apply(i,s),u)}},x=t.forwardRef(({placeholder:c="请输入内容...",initialValue:u="",onChange:n,pcHeight:s="150px",mobileMinRows:i=3,className:w="",resizeDebounceDelay:y=100,breakpoint:l=768,disabled:m=!1,style:p={}},o)=>{const[f,g]=t.useState(u),d=t.useRef(null),E=t.useCallback(e=>{d.current=e,typeof o=="function"?o(e):o&&(o.current=e)},[o]),T=e=>{const r=e.target.value;g(r),n==null||n(r)},h=t.useCallback(()=>window.matchMedia(`(min-width: ${l}px)`).matches,[l]),a=t.useCallback(()=>{const e=d.current;if(e)if(h())e.style.height=s,e.style.minHeight=s,e.style.overflowY="auto",e.style.resize="vertical";else{e.style.height="auto";const r=e.style.overflowY;e.style.overflowY="hidden",e.style.height=`${e.scrollHeight}px`,e.style.overflowY=r,e.style.minHeight=`calc(${i} * 1.5em + 16px + 2px)`,e.style.overflowY="hidden",e.style.resize="none"}},[h,s,i]);return t.useEffect(()=>{a()},[f,a]),t.useEffect(()=>{const e=$(a,y);window.addEventListener("resize",e);const r=window.matchMedia(`(min-width: ${l}px)`),v=()=>e();return r.addEventListener("change",v),a(),()=>{window.removeEventListener("resize",e),r.removeEventListener("change",v)}},[a,y,l]),t.useEffect(()=>{const e=d.current;e&&(e.style.setProperty("--rt-pc-height",s),e.style.setProperty("--rt-mobile-min-rows",`${i}`),e.style.setProperty("--rt-breakpoint",`${l}px`))},[s,i,l]),Y.jsx("textarea",{ref:E,className:w,placeholder:c,value:f,onChange:T,disabled:m,style:{width:"100%",boxSizing:"border-box",lineHeight:"1.5",...p}})});x.displayName="ResponsiveTextarea";exports.ResponsiveTextarea=x;
