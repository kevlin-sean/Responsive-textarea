(function(s,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("react/jsx-runtime"),require("react")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react"],u):(s=typeof globalThis<"u"?globalThis:s||self,u(s.ResponsiveTextarea={},s.ReactJSXRuntime,s.React))})(this,function(s,u,t){"use strict";const w=(d,f)=>{let r;return function(...n){const o=this;clearTimeout(r),r=setTimeout(()=>d.apply(o,n),f)}},h=t.forwardRef(({placeholder:d="请输入内容...",initialValue:f="",onChange:r,pcHeight:n="150px",mobileMinRows:o=3,className:g="",resizeDebounceDelay:x=100,breakpoint:l=768,disabled:T=!1,style:R={}},a)=>{const[v,j]=t.useState(f),y=t.useRef(null),E=t.useCallback(e=>{y.current=e,typeof a=="function"?a(e):a&&(a.current=e)},[a]),Y=e=>{const i=e.target.value;j(i),r==null||r(i)},m=t.useCallback(()=>window.matchMedia(`(min-width: ${l}px)`).matches,[l]),c=t.useCallback(()=>{const e=y.current;if(e)if(m())e.style.height=n,e.style.minHeight=n,e.style.overflowY="auto",e.style.resize="vertical";else{e.style.height="auto";const i=e.style.overflowY;e.style.overflowY="hidden",e.style.height=`${e.scrollHeight}px`,e.style.overflowY=i,e.style.minHeight=`calc(${o} * 1.5em + 16px + 2px)`,e.style.overflowY="hidden",e.style.resize="none"}},[m,n,o]);return t.useEffect(()=>{c()},[v,c]),t.useEffect(()=>{const e=w(c,x);window.addEventListener("resize",e);const i=window.matchMedia(`(min-width: ${l}px)`),p=()=>e();return i.addEventListener("change",p),c(),()=>{window.removeEventListener("resize",e),i.removeEventListener("change",p)}},[c,x,l]),t.useEffect(()=>{const e=y.current;e&&(e.style.setProperty("--rt-pc-height",n),e.style.setProperty("--rt-mobile-min-rows",`${o}`),e.style.setProperty("--rt-breakpoint",`${l}px`))},[n,o,l]),u.jsx("textarea",{ref:E,className:g,placeholder:d,value:v,onChange:Y,disabled:T,style:{width:"100%",boxSizing:"border-box",lineHeight:"1.5",verticalAlign:"top",...R}})});h.displayName="ResponsiveTextarea",s.ResponsiveTextarea=h,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
